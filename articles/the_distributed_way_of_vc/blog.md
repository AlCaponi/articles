# The Distributed Way Of Version Control

Auf unserer andauernden Suche nach besseren Werkzeugen für Software Ingenieure ist es kaum möglich um das Thema Versionskontrolle herum zu kommen. Insbesondere GIT ist kaum zu vermeiden. Unser Team stellt momentan Schritt für Schritt ihre Versionskontrolle von TFS auf GIT um. Dieser Post soll aufzeigen, weshalb wir Git verwenden und wie du einfach von TFVC auf GIT migrieren kannst.

Die Arbeit mit TFVC kann sehr frustrierend sein: Die Versionkontrolle ist komplett in der IDE verzahnt, oft sehr langsam und fehleranfällig. Files werden jedes mal ausgecheckt, wenn sie geöffnet werden und wenn die Internetverbindung fehlt, friert Visual Studio teils für eine Minute oder mehr ein oder stürtzt ab. Branches legen komplette Kopien der Daten auf der Festplatte an was schrecklich langsam und eigentlich auch unnötig ist. Shelvesets können zwar reviewed werden - eine Anpassungen auf Grund des Reviews zu machen ist aber nicht möglich. Merges sind auf Grund der langlebigen Branches aufwändig und fehleranfällig und da Branches in der Handhabung so schwerfällig und teuer (Plattenspeicher!!) sind, wird das auch so bleiben. Hinzukommt das "Mindset" vieler eingefleischter VisualStudio User, sich um Versionskontrolle nicht kümmern zu müssen - wenn ein Checkin nicht funktioniert muss eben gemerged werden...

Ich frage mich regelmässig, ob Microsoft ihre eigenen Tools wirklich verwendet und wenn ja, wie sie damit zu frieden sein können, denn ich war es nicht im geringsten! Zuerst möchte ich etwas klarstellen: All diese Nachteile, welche ich hier aufgezählt habe sind nicht alle TFVC-spezifisch sondern sind so oft auch in SVN oder ähnlichen Systeme zu finden! Worum es in diesem Blogpost gehen soll, ist die Suche nach dem besten Tool für unsere tägliche Arbeit als Entwickler, denn wir sollten es uns wert sein! Und um Microsoft nach einer kurzen Schelte auch einmal zu Loben: Sie haben erkannt, dass es eine andere Lösung braucht; So unterstützt Team Foundation Server seit einigen Versionen auch GIT.

Wir als Team haben uns entschieden, voll auf GIT zu setzen und seit Beginn dieses Jahres, migrieren wir ein Repo nach dem anderen von TFVC auf GIT. Die Entscheidung wurde von allen Beteiligten aus der Abteilung gemeinsam und einstimmig getroffen: Die Vorteile wägen die Nachteile um ein Vielfaches auf!

Nachteile? Git? Ja! Git hat im Gegensatz zum populären Ton in der Entwickler Community auch (zugegeben wenige) Nachteile. Ein gewichtiger ist dabei seine Komplexität. Es ist nicht einfach die History wirklich sauber zu halten, ganz besonders wenn man im Team sehr eng zusammenarbeitet. Dies ist jedoch eine reine Übungssache und nach bald drei Monaten in denen mein (Enzian) Team Git nun verwendet, haben eigentlich alle den Dreh raus. Rebasings, Cherrypicking, Fetching, Branching sind in Fleisch und Blut übergegangen und die Vorteile liessen nicht lange auf sich warten. Unsere Versionkontrolle ist sehr agil geworden, wir erstellen sogar für kleine Features Branches, welche wir ständig aufeinander rebasen. Die Menge und Komplexität von Mergekonfliken ist durch das konstante Rebasen auf praktisch null gesunken. Code Reviews sind viel einfacher geworden, da Pull Requests in TFS-Web super umgesetzt wurden (Kudos an Microsoft hier!). Es spielt auch keine Rolle mehr, wo wir arbeiten - schliesslich sind wir nicht mehr auf den Server angewiesen um Änderungen committen zu können. Wir halten unsere History sauber indem wir Fixup und Autosquash benutzen und committen nur noch files, welche auch wirklich geändert wurden. (TFVC hat das überhaupt nicht im Griff!)
